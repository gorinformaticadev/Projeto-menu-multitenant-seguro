# ============================================
# ⚠️  CONFIGURAÇÕES DE SEGURANÇA - IMPORTANTE
# ============================================
# ESTE É UM ARQUIVO DE EXEMPLO!
# NUNCA FAÇA COMMIT DE CREDENCIAIS REAIS NO CÓDIGO!
# SEMPRE UTILIZE VARIÁVEIS DE AMBIENTE OU SECRET MANAGERS

# ============================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ============================================
# ⚠️  NUNCA UTILIZE ESTA SENHA EM PRODUÇÃO!
DATABASE_URL="" #exemplo "postgresql://postgres:postgres123@localhost:5432/multitenant_db?schema=public"

# ============================================
# CONFIGURAÇÕES DE AUTENTICAÇÃO JWT
# ============================================
# ⚠️  IMPORTANTE: Esta chave deve ter pelo menos 32 caracteres e ser única para produção
# ⚠️  GERE UMA CHAVE SEGURA COM: openssl rand -base64 32
JWT_SECRET="" # Exemplo"aHP1CQF12M8vwzInnPZvEm/OhnYtOShPuSEOxL58pEI="
JWT_EXPIRES_IN="7d"
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ============================================
# CONFIGURAÇÕES DO SERVIDOR
# ============================================
FRONTEND_URL="http://localhost:5000"
PORT=4000
# NODE_ENV: development, production, staging
# Afeta configurações de segurança, rate limiting, HTTPS, etc
NODE_ENV="development"
HOST="0.0.0.0"

# ============================================
# WEB PUSH (PWA/Windows em background)
# ============================================
# Gere com: npx web-push generate-vapid-keys
WEB_PUSH_PUBLIC_KEY=""
WEB_PUSH_PRIVATE_KEY=""
WEB_PUSH_SUBJECT="mailto:suporte@example.com"

# ============================================
# CONFIGURAÇÕES DE PRODUÇÃO
# ============================================
# HTTPS - Configure apenas em produção com certificado válido
HTTPS_ENABLED="false"
SSL_KEY_PATH=""
SSL_CERT_PATH=""

# Rate Limiting Global
GLOBAL_RATE_LIMIT_TTL=60000
GLOBAL_RATE_LIMIT_LIMIT=100

# ============================================
# MONITORAMENTO E LOGS
# ============================================
# Sentry (Monitoramento de Erros)
# Obtenha seu DSN em: https://sentry.io/
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"

# Log Level (error, warn, info, debug)
LOG_LEVEL="info"

# ============================================
# UPLOADS E ARQUIVOS ESTÁTICOS
# ============================================
UPLOAD_DESTINATION="./uploads"
MAX_FILE_SIZE="10485760"  # 10MB em bytes
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp"

# URL pública para acesso aos arquivos de upload
# Em desenvolvimento: http://localhost:4000/uploads
# Em produção: https://seu-dominio.com/uploads ou URL do CDN
UPLOADS_PUBLIC_URL="http://localhost:4000/uploads"

# ============================================
# UPLOADS DE LOGOS DE EMPRESAS
# ============================================
# Tamanho máximo específico para logos (em bytes)
MAX_LOGO_FILE_SIZE="5242880"  # 5MB

# Tipos MIME permitidos para logos
ALLOWED_LOGO_MIME_TYPES="image/jpeg,image/png,image/webp,image/gif"

# Diretório de logos (relativo ao backend)
LOGOS_UPLOAD_DIR="./uploads/logos"

# Cache TTL para logos em segundos
LOGO_CACHE_TTL="86400"  # 24 horas

# ============================================
# UPLOADS SENSÍVEIS (SECURE FILES)
# ============================================
# Diretório raiz de uploads (relativo ao backend)
UPLOADS_ROOT="uploads"

# Diretório de arquivos sensíveis (relativo ao UPLOADS_ROOT)
SECURE_UPLOADS_DIR="uploads/secure"

# Tamanho máximo de arquivo sensível em bytes 
# Desenvolvimento: 10MB | Produção: 20MB
MAX_SECURE_FILE_SIZE="10485760"

# Tipos MIME permitidos para uploads sensíveis (separados por vírgula)
# Imagens: image/jpeg, image/png, image/webp, image/gif
# Documentos: application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document
# Planilhas: application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
ALLOWED_SECURE_MIME_TYPES="image/jpeg,image/png,image/webp,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"

# ============================================
# CONFIGURAÇÕES DE SEGURANÇA AVANÇADAS
# ============================================
# CSP Avançado (Content Security Policy)
# Ative apenas se quiser políticas CSP mais restritivas
# Pode quebrar funcionalidades se mal configurado - teste antes!
CSP_ADVANCED="false"

# Headers de Segurança Adicionais
SECURITY_HEADERS_ENABLED="true"

# CSRF Protection (Cross-Site Request Forgery)
# Ative para proteção adicional contra ataques CSRF
# Requer configuração no frontend para enviar token CSRF
CSRF_PROTECTION_ENABLED="false"

# CORS - Configurações avançadas
CORS_MAX_AGE=86400  # 24 horas

# ============================================
# CONFIGURAÇÕES DE EMAIL (para notificações)
# ============================================
# ⚠️  ESTAS CREDENCIAIS DEVEM SER CONFIGURADAS VIA INTERFACE ADMINISTRATIVA
# ⚠️  NÃO DEVEM FICAR AQUI EM PRODUÇÃO!
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="seu-email@gmail.com"
SMTP_PASS="sua-senha-app"
EMAIL_FROM="noreply@example.com"
EMAIL_FROM_NAME="Sistema Multitenant"

# ============================================
# CONFIGURAÇÕES DE CACHE (Redis - opcional)
# ============================================
# REDIS_URL=""
# CACHE_TTL=3600  # 1 hora

# ============================================
# UPLOAD DE MÓDULOS
# ============================================
# Tamanho máximo para módulos ZIP (em bytes)
MAX_MODULE_FILE_SIZE="52428800"  # 50MB

# Diretório temporário para processamento de módulos
MODULES_TEMP_DIR="./uploads/temp"

# Diretório de instalação de módulos
MODULES_INSTALL_DIR="./modules"

# ============================================
# PROTEÇÃO ADICIONAL DE UPLOADS
# ============================================
# Habilitar validação de magic numbers (assinatura de arquivos)
ENABLE_FILE_SIGNATURE_VALIDATION="true"

# Habilitar soft delete automático em secure files
SECURE_FILES_SOFT_DELETE="true"

# Tempo de retenção de arquivos deletados (em dias)
SECURE_FILES_RETENTION_DAYS="90"

ENCRYPTION_KEY= #exemplo: 0d52d2aec51700cfce0a0c93708bf896d138f6d774f947574a88fb19ec2b2861c
